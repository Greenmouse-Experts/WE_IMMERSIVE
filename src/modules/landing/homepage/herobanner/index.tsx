import { useState, useEffect, useRef } from 'react';
import Button from '../../../../components/ui/Button';

const slides = [
  {
    background: 'https://res.cloudinary.com/do2kojulq/image/upload/v1738435928/WE%20Immersive/1df52e4b947c9c0b5c721617f0f6dec3_1_1_kjhsao.gif',
    mainTitle: 'Empowering Digital Artists with Seamless Monetization',
    description: 'Turn your passion into profit with tools that simplify earning opportunities.',
    buttonText: 'Publish Work',
    boxTitle: <><svg width="26" height="24" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <mask id="path-1-inside-1_11444_2700" fill="white">
        <path d="M2.86914 7.12735C2.46289 6.72651 2.15397 6.2714 1.94238 5.762C1.73079 5.25261 1.625 4.71816 1.625 4.15866C1.625 3.56576 1.73503 3.01879 1.95508 2.51775C2.17513 2.0167 2.47559 1.57829 2.85645 1.20251C3.2373 0.826722 3.6901 0.534447 4.21484 0.325678C4.73958 0.11691 5.29395 0.00835073 5.87793 0C6.43652 0 6.97819 0.0960334 7.50293 0.2881C8.02767 0.480167 8.49316 0.776618 8.89941 1.17745L13.3809 5.59916L12.2256 6.73904L9.75 4.29645L6.03027 7.9666L8.50586 10.4092L7.35059 11.5491L2.86914 7.12735ZM5.89062 1.57829C5.52669 1.57829 5.18392 1.64092 4.8623 1.76618C4.54069 1.89144 4.26139 2.07516 4.02441 2.31733C3.78743 2.5595 3.60124 2.8309 3.46582 3.13152C3.3304 3.43215 3.25846 3.77453 3.25 4.15866C3.25 4.47599 3.29232 4.75157 3.37695 4.98539C3.46159 5.21921 3.58431 5.4405 3.74512 5.64927C3.90592 5.85804 4.07943 6.05428 4.26562 6.238C4.45182 6.42171 4.65495 6.61795 4.875 6.82672L8.59473 3.15658C8.37467 2.94781 8.17578 2.74739 7.99805 2.55532C7.82031 2.36326 7.62565 2.19624 7.41406 2.05428C7.20247 1.91232 6.98242 1.79541 6.75391 1.70355C6.52539 1.61169 6.23763 1.56994 5.89062 1.57829ZM26 24L17.9639 22.0209L14.2441 18.3507L15.3994 17.2109L18.1543 19.9415C18.2897 19.5073 18.4759 19.0981 18.7129 18.714C18.9499 18.3299 19.2334 17.9749 19.5635 17.6493C19.8936 17.3236 20.249 17.048 20.6299 16.8225C21.0107 16.5971 21.4297 16.4092 21.8867 16.2589L19.1191 13.5407L20.2744 12.4008L23.9941 16.071L26 24ZM23.7656 21.7954L22.7246 17.6743C22.3268 17.7578 21.9587 17.8914 21.6201 18.0752C21.2816 18.2589 20.9727 18.4885 20.6934 18.7641C20.4141 19.0397 20.1813 19.3445 19.9951 19.6785C19.8089 20.0125 19.6735 20.3758 19.5889 20.7683L23.7656 21.7954ZM21.9375 0.751566C22.3861 0.751566 22.805 0.835073 23.1943 1.00209C23.5837 1.1691 23.9307 1.39875 24.2354 1.69102C24.54 1.9833 24.7728 2.3215 24.9336 2.70564C25.0944 3.08977 25.179 3.50731 25.1875 3.95825C25.1875 4.38413 25.1071 4.79332 24.9463 5.1858C24.7855 5.57829 24.5485 5.92484 24.2354 6.22547L9.68652 20.5804C9.61035 21.0731 9.45378 21.524 9.2168 21.9332C8.97982 22.3424 8.68359 22.7056 8.32812 23.023C7.97266 23.3403 7.57064 23.5783 7.12207 23.737C6.6735 23.8956 6.19531 23.9833 5.6875 24H0V22.3967C0.093099 22.3967 0.19043 22.3841 0.291992 22.3591C0.393555 22.334 0.486654 22.2964 0.571289 22.2463C0.782878 22.1378 0.95638 22 1.0918 21.833C1.22721 21.666 1.33301 21.4823 1.40918 21.2818C1.48535 21.0814 1.54036 20.8727 1.57422 20.6555C1.60807 20.4384 1.625 20.2171 1.625 19.9916C1.625 19.499 1.70964 19.0313 1.87891 18.5887C2.04818 18.1461 2.29362 17.7453 2.61523 17.3862C2.93685 17.0271 3.30078 16.7349 3.70703 16.5094C4.11328 16.2839 4.57454 16.1294 5.09082 16.0459L19.6396 1.69102C19.9443 1.3904 20.2956 1.16075 20.6934 1.00209C21.0911 0.843424 21.5059 0.759916 21.9375 0.751566ZM5.6875 22.3967C6.02604 22.3967 6.34342 22.334 6.63965 22.2088C6.93587 22.0835 7.19401 21.9123 7.41406 21.6952C7.63411 21.4781 7.80762 21.2234 7.93457 20.9311C8.06152 20.6388 8.125 20.3257 8.125 19.9916C8.125 19.6576 8.06152 19.3445 7.93457 19.0522C7.80762 18.7599 7.63411 18.5052 7.41406 18.2881C7.19401 18.071 6.93587 17.8998 6.63965 17.7745C6.34342 17.6493 6.02604 17.5866 5.6875 17.5866C5.34896 17.5866 5.03158 17.6493 4.73535 17.7745C4.43913 17.8998 4.18099 18.071 3.96094 18.2881C3.74089 18.5052 3.56738 18.7599 3.44043 19.0522C3.31348 19.3445 3.25 19.6576 3.25 19.9916C3.25 20.8601 2.97917 21.6618 2.4375 22.3967H5.6875ZM12.2637 15.7704C11.9928 15.2443 11.6755 14.8017 11.3115 14.4426C10.9476 14.0835 10.499 13.7704 9.96582 13.5031L7.16016 16.2714C7.6849 16.4718 8.14616 16.7683 8.54395 17.1608C8.94173 17.5532 9.24642 18.0125 9.45801 18.5386L12.2637 15.7704ZM23.0801 5.0856C23.3932 4.77662 23.5498 4.40084 23.5498 3.95825C23.5498 3.74113 23.5075 3.53653 23.4229 3.34447C23.3382 3.1524 23.224 2.98539 23.0801 2.84342C22.9362 2.70146 22.7627 2.58455 22.5596 2.49269C22.3564 2.40084 22.1491 2.35908 21.9375 2.36743C21.4889 2.36743 21.1081 2.52192 20.7949 2.8309L11.1592 12.3257C11.6755 12.6263 12.1113 12.952 12.4668 13.3027C12.8223 13.6534 13.1523 14.0835 13.457 14.5929L23.0801 5.0856Z" />
      </mask>
      <path d="M2.86914 7.12735C2.46289 6.72651 2.15397 6.2714 1.94238 5.762C1.73079 5.25261 1.625 4.71816 1.625 4.15866C1.625 3.56576 1.73503 3.01879 1.95508 2.51775C2.17513 2.0167 2.47559 1.57829 2.85645 1.20251C3.2373 0.826722 3.6901 0.534447 4.21484 0.325678C4.73958 0.11691 5.29395 0.00835073 5.87793 0C6.43652 0 6.97819 0.0960334 7.50293 0.2881C8.02767 0.480167 8.49316 0.776618 8.89941 1.17745L13.3809 5.59916L12.2256 6.73904L9.75 4.29645L6.03027 7.9666L8.50586 10.4092L7.35059 11.5491L2.86914 7.12735ZM5.89062 1.57829C5.52669 1.57829 5.18392 1.64092 4.8623 1.76618C4.54069 1.89144 4.26139 2.07516 4.02441 2.31733C3.78743 2.5595 3.60124 2.8309 3.46582 3.13152C3.3304 3.43215 3.25846 3.77453 3.25 4.15866C3.25 4.47599 3.29232 4.75157 3.37695 4.98539C3.46159 5.21921 3.58431 5.4405 3.74512 5.64927C3.90592 5.85804 4.07943 6.05428 4.26562 6.238C4.45182 6.42171 4.65495 6.61795 4.875 6.82672L8.59473 3.15658C8.37467 2.94781 8.17578 2.74739 7.99805 2.55532C7.82031 2.36326 7.62565 2.19624 7.41406 2.05428C7.20247 1.91232 6.98242 1.79541 6.75391 1.70355C6.52539 1.61169 6.23763 1.56994 5.89062 1.57829ZM26 24L17.9639 22.0209L14.2441 18.3507L15.3994 17.2109L18.1543 19.9415C18.2897 19.5073 18.4759 19.0981 18.7129 18.714C18.9499 18.3299 19.2334 17.9749 19.5635 17.6493C19.8936 17.3236 20.249 17.048 20.6299 16.8225C21.0107 16.5971 21.4297 16.4092 21.8867 16.2589L19.1191 13.5407L20.2744 12.4008L23.9941 16.071L26 24ZM23.7656 21.7954L22.7246 17.6743C22.3268 17.7578 21.9587 17.8914 21.6201 18.0752C21.2816 18.2589 20.9727 18.4885 20.6934 18.7641C20.4141 19.0397 20.1813 19.3445 19.9951 19.6785C19.8089 20.0125 19.6735 20.3758 19.5889 20.7683L23.7656 21.7954ZM21.9375 0.751566C22.3861 0.751566 22.805 0.835073 23.1943 1.00209C23.5837 1.1691 23.9307 1.39875 24.2354 1.69102C24.54 1.9833 24.7728 2.3215 24.9336 2.70564C25.0944 3.08977 25.179 3.50731 25.1875 3.95825C25.1875 4.38413 25.1071 4.79332 24.9463 5.1858C24.7855 5.57829 24.5485 5.92484 24.2354 6.22547L9.68652 20.5804C9.61035 21.0731 9.45378 21.524 9.2168 21.9332C8.97982 22.3424 8.68359 22.7056 8.32812 23.023C7.97266 23.3403 7.57064 23.5783 7.12207 23.737C6.6735 23.8956 6.19531 23.9833 5.6875 24H0V22.3967C0.093099 22.3967 0.19043 22.3841 0.291992 22.3591C0.393555 22.334 0.486654 22.2964 0.571289 22.2463C0.782878 22.1378 0.95638 22 1.0918 21.833C1.22721 21.666 1.33301 21.4823 1.40918 21.2818C1.48535 21.0814 1.54036 20.8727 1.57422 20.6555C1.60807 20.4384 1.625 20.2171 1.625 19.9916C1.625 19.499 1.70964 19.0313 1.87891 18.5887C2.04818 18.1461 2.29362 17.7453 2.61523 17.3862C2.93685 17.0271 3.30078 16.7349 3.70703 16.5094C4.11328 16.2839 4.57454 16.1294 5.09082 16.0459L19.6396 1.69102C19.9443 1.3904 20.2956 1.16075 20.6934 1.00209C21.0911 0.843424 21.5059 0.759916 21.9375 0.751566ZM5.6875 22.3967C6.02604 22.3967 6.34342 22.334 6.63965 22.2088C6.93587 22.0835 7.19401 21.9123 7.41406 21.6952C7.63411 21.4781 7.80762 21.2234 7.93457 20.9311C8.06152 20.6388 8.125 20.3257 8.125 19.9916C8.125 19.6576 8.06152 19.3445 7.93457 19.0522C7.80762 18.7599 7.63411 18.5052 7.41406 18.2881C7.19401 18.071 6.93587 17.8998 6.63965 17.7745C6.34342 17.6493 6.02604 17.5866 5.6875 17.5866C5.34896 17.5866 5.03158 17.6493 4.73535 17.7745C4.43913 17.8998 4.18099 18.071 3.96094 18.2881C3.74089 18.5052 3.56738 18.7599 3.44043 19.0522C3.31348 19.3445 3.25 19.6576 3.25 19.9916C3.25 20.8601 2.97917 21.6618 2.4375 22.3967H5.6875ZM12.2637 15.7704C11.9928 15.2443 11.6755 14.8017 11.3115 14.4426C10.9476 14.0835 10.499 13.7704 9.96582 13.5031L7.16016 16.2714C7.6849 16.4718 8.14616 16.7683 8.54395 17.1608C8.94173 17.5532 9.24642 18.0125 9.45801 18.5386L12.2637 15.7704ZM23.0801 5.0856C23.3932 4.77662 23.5498 4.40084 23.5498 3.95825C23.5498 3.74113 23.5075 3.53653 23.4229 3.34447C23.3382 3.1524 23.224 2.98539 23.0801 2.84342C22.9362 2.70146 22.7627 2.58455 22.5596 2.49269C22.3564 2.40084 22.1491 2.35908 21.9375 2.36743C21.4889 2.36743 21.1081 2.52192 20.7949 2.8309L11.1592 12.3257C11.6755 12.6263 12.1113 12.952 12.4668 13.3027C12.8223 13.6534 13.1523 14.0835 13.457 14.5929L23.0801 5.0856Z" fill="white" stroke="white" stroke-width="4" mask="url(#path-1-inside-1_11444_2700)" />
    </svg>
      For Creators</>,
    boxSubtitle: ['Empowering Digital Artists with', 'seamless monetization'],
  },
  {
    background: 'https://res.cloudinary.com/do2kojulq/image/upload/v1738442528/WE%20Immersive/f5d915cc282997293ae341d883bcfd5e_xi7bfb.gif',
    mainTitle: 'Global Access to all kind of Digital Assets, Courses and More',
    description: 'Enjoy accesses to over 200k+ digital contents and digital content creators here',
    buttonText: 'Explore Now',
    boxTitle: <><svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14.2 2.20235C13.636 2.20075 13.036 2.19995 12.4 2.19995C7.0264 2.19995 4.3384 2.19995 2.6692 3.86915C1 5.53835 1 8.22515 1 13.6C1 18.9736 1 21.6615 2.6692 23.3307C4.3384 24.9999 7.0252 24.9999 12.4 24.9999C17.7736 24.9999 20.4616 24.9999 22.1308 23.3307C23.8 21.6615 23.8 18.9748 23.8 13.6C23.8 12.964 23.7992 12.364 23.7976 11.8" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      <path d="M7 19.6C9.7984 16.6696 14.9716 16.5316 17.8 19.6M20.8 1L21.1096 1.8364C21.5152 2.9332 21.718 3.4816 22.1176 3.8812C22.5184 4.282 23.0668 4.4848 24.1636 4.8904L25 5.2L24.1636 5.5096C23.0668 5.9152 22.5184 6.118 22.1188 6.5176C21.718 6.9184 21.5152 7.4668 21.1096 8.5636L20.8 9.4L20.4904 8.5636C20.0848 7.4668 19.882 6.9184 19.4824 6.5188C19.0816 6.118 18.5332 5.9152 17.4364 5.5096L16.6 5.2L17.4364 4.8904C18.5332 4.4848 19.0816 4.282 19.4812 3.8824C19.882 3.4816 20.0848 2.9332 20.4904 1.8364L20.8 1ZM15.394 10.6C15.394 12.256 14.05 13.6 12.3904 13.6C11.996 13.6006 11.6054 13.5235 11.2409 13.373C10.8763 13.2225 10.5451 13.0017 10.266 12.723C9.98689 12.4444 9.76548 12.1135 9.61442 11.7492C9.46336 11.3849 9.3856 10.9944 9.3856 10.6C9.3856 8.944 10.7296 7.6 12.3904 7.6C12.7847 7.59953 13.1752 7.67678 13.5396 7.82733C13.9039 7.97788 14.2351 8.19878 14.514 8.47741C14.793 8.75603 15.0143 9.08691 15.1653 9.45112C15.3163 9.81533 15.394 10.2057 15.394 10.6Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    </svg> For Users</>,
    boxSubtitle: ['Buy all sort of digital assets and', 'also access to courses and tours'],
  },
  {
    background: 'https://res.cloudinary.com/do2kojulq/image/upload/v1738443998/WE%20Immersive/399216a5db3734c72f98864636865a64_q8kwe4.gif',
    mainTitle: 'Transform Your Passion into Profit with Gamified Learning',
    description: 'Access Immersive, Hands-On Learning Experiences in Digital Content Creation',
    buttonText: 'Start Learning',
    boxTitle: <><svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M24.2919 3.8874L12.7774 0.0492474C12.5805 -0.0164158 12.3675 -0.0164158 12.1705 0.0492474L0.656083 3.8874C0.465022 3.95109 0.298844 4.07328 0.181093 4.23667C0.063341 4.40006 -1.49235e-05 4.59636 2.63676e-09 4.79776V14.3931C2.63676e-09 14.6476 0.101094 14.8917 0.281042 15.0716C0.46099 15.2516 0.705052 15.3527 0.959537 15.3527C1.21402 15.3527 1.45808 15.2516 1.63803 15.0716C1.81798 14.8917 1.91907 14.6476 1.91907 14.3931V6.12911L5.94793 7.47127C4.87752 9.2006 4.53713 11.284 5.00151 13.2641C5.46589 15.2442 6.69708 16.9591 8.42474 18.0322C6.26578 18.879 4.39948 20.4106 3.03454 22.5048C2.96355 22.6103 2.91424 22.7289 2.88948 22.8536C2.86472 22.9783 2.865 23.1068 2.8903 23.2314C2.9156 23.356 2.96542 23.4743 3.03686 23.5795C3.1083 23.6847 3.19994 23.7747 3.30645 23.8442C3.41296 23.9136 3.53222 23.9612 3.65729 23.9842C3.78236 24.0072 3.91075 24.0051 4.03499 23.978C4.15924 23.9509 4.27686 23.8994 4.38103 23.8265C4.48519 23.7535 4.57382 23.6606 4.64176 23.5531C6.44929 20.78 9.30391 19.1908 12.474 19.1908C15.6441 19.1908 18.4987 20.78 20.3062 23.5531C20.4469 23.7623 20.6643 23.9077 20.9114 23.9578C21.1585 24.008 21.4154 23.9589 21.6265 23.8212C21.8377 23.6834 21.9862 23.4681 22.0398 23.2218C22.0935 22.9755 22.0481 22.7179 21.9134 22.5048C20.5485 20.4106 18.675 18.879 16.5232 18.0322C18.2492 16.9591 19.4793 15.2454 19.9436 13.2667C20.4079 11.2881 20.0686 9.20609 19 7.47726L24.2919 5.71412C24.483 5.65046 24.6492 5.52828 24.767 5.36489C24.8848 5.2015 24.9482 5.00518 24.9482 4.80375C24.9482 4.60233 24.8848 4.40601 24.767 4.24262C24.6492 4.07923 24.483 3.95705 24.2919 3.89339V3.8874ZM18.2312 11.5145C18.2315 12.4247 18.0159 13.322 17.6022 14.1327C17.1886 14.9435 16.5886 15.6446 15.8515 16.1786C15.1144 16.7125 14.2612 17.0641 13.3619 17.2045C12.4626 17.3449 11.5428 17.27 10.678 16.9861C9.81326 16.7022 9.02813 16.2172 8.38706 15.5711C7.74599 14.925 7.26725 14.1361 6.99012 13.2691C6.71299 12.4021 6.64536 11.4818 6.79278 10.5836C6.94021 9.68547 7.29849 8.83506 7.83822 8.10216L12.1705 9.54147C12.3675 9.60713 12.5805 9.60713 12.7774 9.54147L17.1097 8.10216C17.8387 9.09052 18.2317 10.2864 18.2312 11.5145Z" fill="white" />
    </svg>
      For Students</>,
    boxSubtitle: ['Transform your passion into', 'profit with gamified learning'],
  },
  {
    background: 'https://res.cloudinary.com/do2kojulq/image/upload/v1738444074/WE%20Immersive/0160375e13e29830dc8996e879339215_vpypyc.gif',
    mainTitle: 'Unlock Future Creators with VR Education and Digital Art Training',
    description: 'Bring immersive, future-proof digital art courses to your students.',
    buttonText: 'Create Course',
    boxTitle: <><svg width="27" height="26" viewBox="0 0 27 26" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15.5719 24.9999V20.1425C15.5719 19.4984 15.3161 18.8807 14.8606 18.4252C14.4051 17.9697 13.7874 17.7139 13.1433 17.7139C12.4991 17.7139 11.8814 17.9697 11.4259 18.4252C10.9705 18.8807 10.7146 19.4984 10.7146 20.1425V24.9999" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      <path d="M20.4293 10.428L24.6151 12.5215C24.8168 12.6223 24.9865 12.7772 25.1051 12.969C25.2237 13.1607 25.2865 13.3817 25.2867 13.6071V22.5713C25.2867 23.2155 25.0308 23.8332 24.5753 24.2887C24.1199 24.7441 23.5021 25 22.858 25H3.42867C2.78454 25 2.1668 24.7441 1.71134 24.2887C1.25588 23.8332 1 23.2155 1 22.5713V13.6071C1.00012 13.3817 1.063 13.1607 1.18161 12.969C1.30021 12.7772 1.46985 12.6223 1.67153 12.5215L5.85733 10.428M20.4293 4.35633V25M3.42867 5.57067L12.0577 1.25614C12.3948 1.08769 12.7665 1 13.1433 1C13.5202 1 13.8918 1.08769 14.2289 1.25614L22.858 5.57067M5.85733 4.35633V25" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      <path d="M13.1433 11.6425C14.4846 11.6425 15.5719 10.5551 15.5719 9.21382C15.5719 7.87251 14.4846 6.78516 13.1433 6.78516C11.802 6.78516 10.7146 7.87251 10.7146 9.21382C10.7146 10.5551 11.802 11.6425 13.1433 11.6425Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    </svg>
      For Institution</>,
    boxSubtitle: ['Elevate your institutions education', 'with VR and digital art course'],
  },
];


export default function HeroSlider() {
  const [activeIndex, setActiveIndex] = useState(0);
  const [initialLoad, setInitialLoad] = useState(true);

  const containerRef = useRef<HTMLDivElement>(null);
  const boxRefs = useRef<Array<HTMLDivElement | null>>([])

  useEffect(() => {
    const initialDelay = setTimeout(() => {
      setInitialLoad(false);
      setActiveIndex(prev => (prev + 1) % slides.length);
    }, 10000);

    const interval = setInterval(() => {
      setActiveIndex(prev => (prev + 1) % slides.length);
    }, 10000);

    return () => {
      clearInterval(interval);
      clearTimeout(initialDelay);
    };
  }, []);


  useEffect(() => {
    if (containerRef.current && boxRefs.current[activeIndex]) {
      const activeBox = boxRefs.current[activeIndex];
      const container = containerRef.current;

      if (activeBox && container.scrollWidth > container.clientWidth) {
        const containerWidth = container.clientWidth;
        const boxLeft = activeBox.offsetLeft;
        const boxWidth = activeBox.offsetWidth;

        container.scrollTo({
          left: boxLeft - (containerWidth - boxWidth) / 2,
          behavior: 'smooth'
        });
      }
    }
  }, [activeIndex]);


  return (
    <div className="relative h-[400px] md:h-[550px] overflow-hidden">
      {/* Animated Background */}
      <div
        className={`absolute inset-0 bg-cover bg-center ${initialLoad ? '' : ''
          }`}
        style={{
          backgroundImage: `url(${slides[activeIndex].background})`,
          animationDuration: '0ms', // Instant transition
          animationFillMode: 'forwards'
        }}
      />
      <div className='bg-[rgba(0,0,0,0.5)] absolute inset-0' />

      {/* Main Content */}
      <div className="relative h-full flex flex-col md:py-20 py-3 items-center text-center text-white px-4">
        <div className="max-w-4xl space-y-6">
          <h1 className="md:text-5xl text-3xl font-bold leading-tight">
            {slides[activeIndex].mainTitle}
          </h1>
          <p className="text-xl text-gray-200">{slides[activeIndex].description}</p>
          <div className="flex justify-center gap-4 mt-1">
            <Button
              style={{ width: "fit-content" }}
              withArrows
              size={14}
              title={slides[activeIndex].buttonText}
              altClassName="btn-primary flex flex-grow whitespace-nowrap mt-8 px-8 py-3 rounded-lg text-lg font-semibold transition-colors"
            />
          </div>
        </div>
      </div>

      {/* Navigation Boxes */}
      <div className="absolute bottom-0 w-full px-4 md:px-8 pb-4 md:pb-8">
        <div
          ref={containerRef}
          className="flex md:grid md:grid-cols-4 gap-3 md:gap-4 overflow-x-auto pb-3 md:pb-0 scrollbar-hide snap-x snap-mandatory"
        >
          {slides.map((slide, index) => (
            <div
              ref={(el) => boxRefs.current[index] = el}
              key={index}
              onClick={() => setActiveIndex(index)}
              className={`snap-center min-w-[280px] md:min-w-0 relative p-4 md:p-6 border-t-4 border-transparent cursor-pointer bg-[rgba(255,255,255,0.3)] backdrop-blur-lg rounded-xl transition-all`}
            >
              {activeIndex === index &&
                <div className='absolute w-1/3 h-[6px] bg-[rgba(111,10,255,1)] -top-1 left-[3px] rounded-tl-[8.5rem]' />
              }
              <h3 className="text-sm md:text-lg font-semibold flex gap-3 mb-1 md:mb-2 text-white">
                {slide.boxTitle}
              </h3>
              <p className="text-xs md:text-sm text-gray-300">{slide.boxSubtitle[0]}</p>
              <p className="text-xs md:text-sm text-gray-300">{slide.boxSubtitle[1]}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}